<%- include ("includes/header", { "title": "Login" }) %>

<link rel="stylesheet" type="text/css" href="<%= request.mainURL %>/public/css/Login.css" />

        <!-- Boxicons CSS -->
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
            
    <body>
        <section class="container forms">
            <div class="form login">
                <div class="" style="text-align: center;">
                <%- include ("includes/ResponseAlert", {
                    "request": request
                }) %>
            </div>


                <div class="form-content">
                    <header>Reset Password</header>
                    <form action="<%= request.mainURL %>/ResetPassword" method="POST">
                            <input type="hidden" class="input" name="reset_token" value = "<%= reset_token %>"/>
                            <input type="hidden" class="input" name="email" value = "<%= email %>" />

                            <div class="field input-field">
                                <input type="password" placeholder="Password" name="new_password" class="password" required />
                                <i class='bx bx-hide eye-icon'></i>
                            </div>

                            <div class="field input-field">
                                <input type="password" placeholder="Repeat Password" name="confirm_password" class="password" required />
                                <i class='bx bx-hide eye-icon'></i>
                            </div>
                        
                        <div class="field button-field">
                            <button value = "Reset Password">Reset Password</button>
                        </div>
                    </form>
                </div>

                <script>
                    const forms = document.querySelector(".forms"),
                      pwShowHide = document.querySelectorAll(".eye-icon"),
                      links = document.querySelectorAll(".link");
            
                    pwShowHide.forEach((eyeIcon) => {
                      eyeIcon.addEventListener("click", () => {
                        const pwField = eyeIcon
                          .closest(".input-field")
                          .querySelector(".password");
            
                        if (pwField.type === "password") {
                          pwField.type = "text";
                          eyeIcon.classList.replace("bx-hide", "bx-show");
                        } else {
                          pwField.type = "password";
                          eyeIcon.classList.replace("bx-show", "bx-hide");
                        }
                      });
                    });
                  </script>
